diff --git a/internal/service/order.go b/internal/service/order.go
index 1234567..abcdefg 100644
--- a/internal/service/order.go
+++ b/internal/service/order.go
@@ -20,15 +20,18 @@ func (s *OrderService) GetOrdersWithItems(userID int) ([]OrderWithItems, error
 		return nil, err
 	}
 	
-	var result []OrderWithItems
+	result := make([]OrderWithItems, len(orders))
 	for i, order := range orders {
-		items, err := s.db.GetOrderItems(order.ID)
+		// Get items for each order individually
+		items, err := s.getItemsForOrder(order.ID)
 		if err != nil {
 			return nil, err
 		}
-		result = append(result, OrderWithItems{
+		result[i] = OrderWithItems{
 			Order: order,
 			Items: items,
-		})
+		}
 	}
 	
 	return result, nil
+}
+
+func (s *OrderService) getItemsForOrder(orderID int) ([]Item, error) {
+	return s.db.Query("SELECT * FROM order_items WHERE order_id = ?", orderID)
 }