diff --git a/internal/service/order.go b/internal/service/order.go
index 1234567..abcdefg 100644
--- a/internal/service/order.go
+++ b/internal/service/order.go
@@ -18,8 +18,13 @@ type OrderService struct {
 func (s *OrderService) GetOrdersWithItems(userID int) ([]OrderWithItems, error) {
 	orders, err := s.db.GetOrdersByUserID(userID)
 	if err != nil {
 		return nil, err
 	}
 	
-	items, err := s.db.GetAllOrderItems(orders)
-	if err != nil {
-		return nil, err
-	}
-	
-	return s.combineOrdersAndItems(orders, items), nil
+	result := make([]OrderWithItems, len(orders))
+	for i, order := range orders {
+		items, err := s.db.GetOrderItems(order.ID)
+		if err != nil {
+			return nil, err
+		}
+		result[i] = OrderWithItems{
+			Order: order,
+			Items: items,
+		}
+	}
+	
+	return result, nil
 }